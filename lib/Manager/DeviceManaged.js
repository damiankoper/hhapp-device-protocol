"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
class DeviceManaged {
    constructor(info) {
        this.socket = info.socket;
        this.name = info.name;
        this.type = info.type;
    }
    getName() {
        return this.name;
    }
    getType() {
        return this.type;
    }
    getSocket() {
        return this.socket;
    }
    getTargetConfig() {
        return {
            name: this.name,
            type: this.type,
        };
    }
    matchesTarget(target) {
        return target.name === this.name || target.type === this.type;
    }
    sendAction(action, payload) {
        this.socket.emit(action, payload);
    }
    onStatus(fn) {
        this.socket.on('status', fn);
    }
    offStatus(fn) {
        this.socket.removeListener('status', fn);
    }
    connected() {
        return this.socket.connected;
    }
    destroy() {
        this.socket.disconnect();
    }
}
exports.default = DeviceManaged;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiRGV2aWNlTWFuYWdlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9NYW5hZ2VyL0RldmljZU1hbmFnZWQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFJQSxNQUFxQixhQUFhO0lBS2hDLFlBQW1CLElBQXlCO1FBQzFDLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQztRQUMxQixJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUM7UUFDdEIsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDO0lBQ3hCLENBQUM7SUFFTSxPQUFPO1FBQ1osT0FBTyxJQUFJLENBQUMsSUFBSSxDQUFDO0lBQ25CLENBQUM7SUFFTSxPQUFPO1FBQ1osT0FBTyxJQUFJLENBQUMsSUFBSSxDQUFDO0lBQ25CLENBQUM7SUFFTSxTQUFTO1FBQ2QsT0FBTyxJQUFJLENBQUMsTUFBTSxDQUFDO0lBQ3JCLENBQUM7SUFFTSxlQUFlO1FBQ3BCLE9BQU87WUFDTCxJQUFJLEVBQUUsSUFBSSxDQUFDLElBQUk7WUFDZixJQUFJLEVBQUUsSUFBSSxDQUFDLElBQUk7U0FDaEIsQ0FBQztJQUNKLENBQUM7SUFFTSxhQUFhLENBQUMsTUFBb0I7UUFDdkMsT0FBTyxNQUFNLENBQUMsSUFBSSxLQUFLLElBQUksQ0FBQyxJQUFJLElBQUksTUFBTSxDQUFDLElBQUksS0FBSyxJQUFJLENBQUMsSUFBSSxDQUFDO0lBQ2hFLENBQUM7SUFFTSxVQUFVLENBQUMsTUFBYyxFQUFFLE9BQVk7UUFDNUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFLE9BQU8sQ0FBQyxDQUFDO0lBQ3BDLENBQUM7SUFFTSxRQUFRLENBQUMsRUFBa0M7UUFDaEQsSUFBSSxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsUUFBUSxFQUFFLEVBQUUsQ0FBQyxDQUFDO0lBQy9CLENBQUM7SUFFTSxTQUFTLENBQUMsRUFBa0M7UUFDakQsSUFBSSxDQUFDLE1BQU0sQ0FBQyxjQUFjLENBQUMsUUFBUSxFQUFFLEVBQUUsQ0FBQyxDQUFDO0lBQzNDLENBQUM7SUFFTSxTQUFTO1FBQ2QsT0FBTyxJQUFJLENBQUMsTUFBTSxDQUFDLFNBQVMsQ0FBQztJQUMvQixDQUFDO0lBRU0sT0FBTztRQUNaLElBQUksQ0FBQyxNQUFNLENBQUMsVUFBVSxFQUFFLENBQUM7SUFDM0IsQ0FBQztDQUNGO0FBckRELGdDQXFEQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IERldmljZVN0YXR1cyB9IGZyb20gJy4uL0RldmljZS9TdGF0dXMnO1xuaW1wb3J0IHsgRGV2aWNlQ29ubmVjdGVkSW5mbyB9IGZyb20gJy4vSW50ZXJmYWNlcyc7XG5pbXBvcnQgeyBUYXJnZXRDb25maWcgfSBmcm9tICcuL01hbmFnZXInO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBEZXZpY2VNYW5hZ2VkIHtcbiAgcHJpdmF0ZSBuYW1lOiBzdHJpbmc7XG4gIHByaXZhdGUgdHlwZTogc3RyaW5nO1xuICBwcml2YXRlIHNvY2tldDogU29ja2V0SU8uU29ja2V0O1xuXG4gIHB1YmxpYyBjb25zdHJ1Y3RvcihpbmZvOiBEZXZpY2VDb25uZWN0ZWRJbmZvKSB7XG4gICAgdGhpcy5zb2NrZXQgPSBpbmZvLnNvY2tldDtcbiAgICB0aGlzLm5hbWUgPSBpbmZvLm5hbWU7XG4gICAgdGhpcy50eXBlID0gaW5mby50eXBlO1xuICB9XG5cbiAgcHVibGljIGdldE5hbWUoKSB7XG4gICAgcmV0dXJuIHRoaXMubmFtZTtcbiAgfVxuXG4gIHB1YmxpYyBnZXRUeXBlKCkge1xuICAgIHJldHVybiB0aGlzLnR5cGU7XG4gIH1cblxuICBwdWJsaWMgZ2V0U29ja2V0KCkge1xuICAgIHJldHVybiB0aGlzLnNvY2tldDtcbiAgfVxuXG4gIHB1YmxpYyBnZXRUYXJnZXRDb25maWcoKTogVGFyZ2V0Q29uZmlnIHtcbiAgICByZXR1cm4ge1xuICAgICAgbmFtZTogdGhpcy5uYW1lLFxuICAgICAgdHlwZTogdGhpcy50eXBlLFxuICAgIH07XG4gIH1cblxuICBwdWJsaWMgbWF0Y2hlc1RhcmdldCh0YXJnZXQ6IFRhcmdldENvbmZpZykge1xuICAgIHJldHVybiB0YXJnZXQubmFtZSA9PT0gdGhpcy5uYW1lIHx8IHRhcmdldC50eXBlID09PSB0aGlzLnR5cGU7XG4gIH1cblxuICBwdWJsaWMgc2VuZEFjdGlvbihhY3Rpb246IHN0cmluZywgcGF5bG9hZDogYW55KSB7XG4gICAgdGhpcy5zb2NrZXQuZW1pdChhY3Rpb24sIHBheWxvYWQpO1xuICB9XG5cbiAgcHVibGljIG9uU3RhdHVzKGZuOiAoc3RhdHVzOiBEZXZpY2VTdGF0dXMpID0+IHZvaWQpIHtcbiAgICB0aGlzLnNvY2tldC5vbignc3RhdHVzJywgZm4pO1xuICB9XG5cbiAgcHVibGljIG9mZlN0YXR1cyhmbjogKHN0YXR1czogRGV2aWNlU3RhdHVzKSA9PiB2b2lkKSB7XG4gICAgdGhpcy5zb2NrZXQucmVtb3ZlTGlzdGVuZXIoJ3N0YXR1cycsIGZuKTtcbiAgfVxuXG4gIHB1YmxpYyBjb25uZWN0ZWQoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuc29ja2V0LmNvbm5lY3RlZDtcbiAgfVxuXG4gIHB1YmxpYyBkZXN0cm95KCkge1xuICAgIHRoaXMuc29ja2V0LmRpc2Nvbm5lY3QoKTtcbiAgfVxufVxuIl19